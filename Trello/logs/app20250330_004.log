2025-03-30 11:52:19.905 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-30 11:52:20.256 +02:00 [INF] Now listening on: http://localhost:5196
2025-03-30 11:52:20.262 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-30 11:52:20.265 +02:00 [INF] Hosting environment: Development
2025-03-30 11:52:20.267 +02:00 [INF] Content root path: C:\Users\User\Desktop\Trello
2025-03-30 11:52:21.645 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5196// - null null
2025-03-30 11:52:21.756 +02:00 [WRN] Failed to determine the https port for redirect.
2025-03-30 11:52:21.919 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5196// - 404 0 null 301.5055ms
2025-03-30 11:52:21.965 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5196//, Response status code: 404
2025-03-30 11:52:29.026 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5196/api/auth/login - null null
2025-03-30 11:52:29.047 +02:00 [INF] CORS policy execution successful.
2025-03-30 11:52:29.051 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5196/api/auth/login - 204 null null 26.0168ms
2025-03-30 11:52:29.064 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5196/api/auth/login - application/json 41
2025-03-30 11:52:29.083 +02:00 [INF] CORS policy execution successful.
2025-03-30 11:52:29.086 +02:00 [INF] Executing endpoint 'Trello.Controller.AuthController.Login (Trello)'
2025-03-30 11:52:29.119 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Trello.DTOs.UserLoginDto) on controller Trello.Controller.AuthController (Trello).
2025-03-30 11:52:31.160 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt", u."Email", u."EmailConfirmed", u."FirstName", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."RefreshToken", u."RefreshTokenExpiry", u."SecurityStamp", u."TwoFactorEnabled", u."UserName"
FROM "Users" AS u
WHERE u."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-30 11:52:31.562 +02:00 [INF] Executing OkObjectResult, writing value of type 'FluentResults.Result`1[[Trello.DTOs.AuthResponseDto, Trello, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-30 11:52:31.605 +02:00 [INF] Executed action Trello.Controller.AuthController.Login (Trello) in 2476.9093ms
2025-03-30 11:52:31.610 +02:00 [INF] Executed endpoint 'Trello.Controller.AuthController.Login (Trello)'
2025-03-30 11:52:31.623 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5196/api/auth/login - 200 null application/json; charset=utf-8 2559.1381ms
2025-03-30 11:52:33.310 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5196/api/user/getById/1 - null null
2025-03-30 11:52:33.335 +02:00 [INF] CORS policy execution successful.
2025-03-30 11:52:33.347 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5196/api/user/getById/1 - 204 null null 36.0321ms
2025-03-30 11:52:33.362 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5196/api/user/getById/1 - null null
2025-03-30 11:52:33.435 +02:00 [INF] CORS policy execution successful.
2025-03-30 11:52:33.438 +02:00 [INF] Executing endpoint 'Trello.Controller.UserController.GetUserById (Trello)'
2025-03-30 11:52:33.446 +02:00 [INF] Route matched with {action = "GetUserById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserById(Int32) on controller Trello.Controller.UserController (Trello).
2025-03-30 11:52:33.562 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AccessFailedCount", u."ConcurrencyStamp", u."CreatedAt", u."Email", u."EmailConfirmed", u."FirstName", u."LastName", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."RefreshToken", u."RefreshTokenExpiry", u."SecurityStamp", u."TwoFactorEnabled", u."UserName"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-03-30 11:52:33.572 +02:00 [INF] Executing OkObjectResult, writing value of type 'Trello.DTOs.UserDto'.
2025-03-30 11:52:33.583 +02:00 [INF] Executed action Trello.Controller.UserController.GetUserById (Trello) in 128.5914ms
2025-03-30 11:52:33.586 +02:00 [INF] Executed endpoint 'Trello.Controller.UserController.GetUserById (Trello)'
2025-03-30 11:52:33.593 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5196/api/user/getById/1 - 200 null application/json; charset=utf-8 230.9891ms
2025-03-30 11:52:33.602 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5196/api/projects/getUserProjects/1 - null null
2025-03-30 11:52:33.611 +02:00 [INF] CORS policy execution successful.
2025-03-30 11:52:33.614 +02:00 [INF] Executing endpoint 'Trello.Controller.ProjectController.GetUserProjects (Trello)'
2025-03-30 11:52:33.654 +02:00 [INF] Route matched with {action = "GetUserProjects", controller = "Project"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProjects(Int32) on controller Trello.Controller.ProjectController (Trello).
2025-03-30 11:52:40.148 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."OwnerId"
FROM "Projects" AS p
WHERE EXISTS (
    SELECT 1
    FROM "UserProject" AS u
    WHERE p."Id" = u."ProjectId" AND u."UserId" = @__userId_0) OR p."OwnerId" = @__userId_0
2025-03-30 11:52:40.734 +02:00 [INF] Executed action Trello.Controller.ProjectController.GetUserProjects (Trello) in 7061.6688ms
2025-03-30 11:52:40.876 +02:00 [INF] Executed endpoint 'Trello.Controller.ProjectController.GetUserProjects (Trello)'
2025-03-30 11:52:40.999 +02:00 [ERR] Unhandled exception occurred.
System.InvalidOperationException: Result is in status failed. Value is not set. Having: Error with Message='No projects found for this user.'
   at FluentResults.Result`1.ThrowIfFailed()
   at FluentResults.Result`1.get_Value()
   at Trello.Controller.ProjectController.GetUserProjects(Int32 id) in C:\Users\User\Desktop\Trello\Controller\ProjectController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Trello.Helpers.ExceptionHandlingMiddleware.Invoke(HttpContext context) in C:\Users\User\Desktop\Trello\Helpers\ExeptionHandlingMiddleware.cs:line 21
2025-03-30 11:52:41.182 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5196/api/projects/getUserProjects/1 - 500 null application/json; charset=utf-8 7579.4122ms
